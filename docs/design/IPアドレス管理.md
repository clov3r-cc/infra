# IPアドレス管理

<!-- @import "[TOC]" {cmd="toc" depthFrom=2 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [1. 説明](#1-説明)
- [2. セグメント](#2-セグメント)
  - [2.1. VLAN 1（NW機器）](#21-vlan-1nw機器)
  - [2.2. VLAN 10（私用）](#22-vlan-10私用)
  - [2.3. VLAN 20（サーバ・サービス NW）](#23-vlan-20サーバサービス-nw)
  - [2.4. VLAN 21（サーバ・マネジメント NW）](#24-vlan-21サーバマネジメント-nw)
  - [2.5. VLAN 30（仕事用）](#25-vlan-30仕事用)
  - [2.6. VLAN 40（IoTデバイス）](#26-vlan-40iotデバイス)

<!-- /code_chunk_output -->

## 1. 説明

使用しているIPアドレスを管理するドキュメントです。

## 2. セグメント

VLAN ID と CIDR ブロックの第3オクテットが一致するようにしています。

| VLAN  |       CIDR        |          説明           | DHCP  |
| :---: | :---------------: | ----------------------- | :---: |
|   1   | `192.168.1.0/24`  | NW機器                  |   y   |
|  10   | `192.168.10.0/24` | 私用                    |   y   |
|  20   | `192.168.20.0/24` | サーバ・サービス NW     |   -   |
|  21   | `192.168.21.0/24` | サーバ・マネジメント NW |   -   |
|  30   | `192.168.30.0/24` | 仕事用                  |   y   |
|  40   | `192.168.40.0/24` | IoTデバイス             |   y   |

### 2.1. VLAN 1（NW機器）

NW機器を接続するセグメントです。

|  第4オクテット  |     説明      |
| :-------------: | ------------- |
|      `.1`       | prd-rtr-01    |
|      `.2`       | prd-l2s-01    |
|      `.3`       | prd-wap-01    |
| `.200` - `.254` | DHCP 配布対象 |

### 2.2. VLAN 10（私用）

私用デバイスを接続するセグメントです。

| 第4オクテット |     説明      |
| :-----------: | ------------- |
|     `.1`      | prd-rtr-01    |
| `.2` - `.254` | DHCP 配布対象 |

### 2.3. VLAN 20（サーバ・サービス NW）

サーバ類を接続するセグメントです。サービス NW です。

| 第4オクテット |    説明    |
| :-----------: | ---------- |
|     `.1`      | prd-rtr-01 |
|     `.2`      | prd-pve-01 |
|     `.21`     | prd-kcp-01 |
|     `.22`     | prd-kcp-02 |
|     `.23`     | prd-kcp-03 |
|     `.31`     | prd-kwk-01 |
|     `.32`     | prd-kwk-02 |
|     `.33`     | prd-kwk-03 |

### 2.4. VLAN 21（サーバ・マネジメント NW）

サーバ類を接続するセグメントです。マネジメント NW です。

| 第4オクテット |         説明         |
| :-----------: | -------------------- |
|     `.1`      | prd-rtr-01           |
|     `.2`      | prd-pve-01           |
|     `.3`      | prd-tsc-01           |
|     `.13`     | Zabbix Server の VIP |
|     `.14`     | prd-zbx-01           |
|     `.15`     | prd-zbx-02           |
|     `.19`     | prd-ans-01           |
|     `.21`     | prd-kcp-01           |
|     `.22`     | prd-kcp-02           |
|     `.23`     | prd-kcp-03           |
|     `.31`     | prd-kwk-01           |
|     `.32`     | prd-kwk-02           |
|     `.33`     | prd-kwk-03           |

### 2.5. VLAN 30（仕事用）

仕事用デバイスを接続するセグメントです。

| 第4オクテット |     説明      |
| :-----------: | ------------- |
|     `.1`      | prd-rtr-01    |
| `.2` - `.254` | DHCP 配布対象 |

### 2.6. VLAN 40（IoTデバイス）

IoTデバイスを接続するセグメントです。

| 第4オクテット |     説明      |
| :-----------: | ------------- |
|     `.1`      | prd-rtr-01    |
| `.2` - `.254` | DHCP 配布対象 |

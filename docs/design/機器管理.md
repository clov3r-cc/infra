# 機器管理

<!-- @import "[TOC]" {cmd="toc" depthFrom=2 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [1. 説明](#1-説明)
- [2. 命名規則](#2-命名規則)
  - [2.1. 環境](#21-環境)
  - [2.2. 役割](#22-役割)
- [3. 物理機器管理](#3-物理機器管理)
  - [3.1. RTX830](#31-rtx830)
    - [3.1.1. 仕様・紹介](#311-仕様紹介)
  - [3.2. SWX2210P-10G](#32-swx2210p-10g)
    - [3.2.1. 仕様・紹介](#321-仕様紹介)
  - [3.3. WLX313](#33-wlx313)
    - [3.3.1. 仕様・紹介](#331-仕様紹介)
  - [3.4. DeskMeet X300](#34-deskmeet-x300)
    - [3.4.1. 仕様・紹介](#341-仕様紹介)
    - [3.4.2. カスタマイズした部品](#342-カスタマイズした部品)
  - [3.5. Raspberry Pi 4 Model B 8GB](#35-raspberry-pi-4-model-b-8gb)
    - [3.5.1. 仕様・紹介](#351-仕様紹介)
  - [3.6. UGREEN NASync DH4300 Plus](#36-ugreen-nasync-dh4300-plus)
    - [3.6.1. 仕様・紹介](#361-仕様紹介)
    - [3.6.2. カスタマイズした部品](#362-カスタマイズした部品)
- [4. 仮想マシン管理](#4-仮想マシン管理)

<!-- /code_chunk_output -->

## 1. 説明

使用している物理機器及び仮想マシンを管理するドキュメントです。

## 2. 命名規則

機器のホスト名は以下の規則に従って命名します。

`<環境>`-`<役割>`-`<連番（2桁、0埋めあり）>`

### 2.1. 環境

4文字の英数字で表します。

| 識別子 | 意味 |
| :----: | ---- |
|  prod  | 本番 |
|  test  | 検証 |

### 2.2. 役割

4文字の英数字で表します。

| 識別子 |                 意味                  |
| :----: | ------------------------------------- |
|  rout  | ルータ                                |
|  l2sw  | L2 スイッチ                           |
|  wifi  | 無線 AP                               |
|  prox  | Proxmox ホスト                        |
|  tail  | Tailscale                             |
|  zbbx  | Zabbix Server                         |
|  k8cp  | Kubernetes Control Plane ノード       |
|  k8wk  | Kubernetes Worker ノード              |
|  sens  | センサー機器                          |
|  adds  | Active Directory ドメインコントローラ |
|  mgmt  | 運用管理サーバ                        |
|  mnas  | NAS（専用機器）                       |

## 3. 物理機器管理

|       メーカー名        |           機種名           |   ホスト名   |    種別     |
| ----------------------- | -------------------------- | ------------ | ----------- |
| YAMAHA                  | RTX830                     | prod-rout-01 | ルーター    |
| YAMAHA                  | SWX2210P-10G               | prod-l2sw-01 | L2 スイッチ |
| YAMAHA                  | WLX313                     | prod-wifi-01 | 無線 AP     |
| ASRock                  | DeskMeet X300              | prod-prox-01 | サーバ      |
| Raspberry Pi Foundation | Raspberry Pi 4 Model B 8GB | prod-sens-01 | サーバ      |
| UGREEN                  | NASync DH4300 Plus         | prod-mnas-01 | サーバ      |

### 3.1. RTX830

#### 3.1.1. 仕様・紹介

[YAMAHA 公式ページ](https://network.yamaha.com/products/routers/rtx830/index)

### 3.2. SWX2210P-10G

#### 3.2.1. 仕様・紹介

[YAMAHA 公式ページ](https://network.yamaha.com/products/switches/swx2210p-10g/index)

### 3.3. WLX313

#### 3.3.1. 仕様・紹介

[YAMAHA 公式ページ](https://network.yamaha.com/products/wireless_lan/wlx313/index)

### 3.4. DeskMeet X300

#### 3.4.1. 仕様・紹介

[ASRock 公式ページ](https://www.asrock.com/nettop/AMD/DeskMeet%20X300%20Series/index.jp.asp)

#### 3.4.2. カスタマイズした部品

- CPU: AMD Ryzen 7 5700G
  - アーキテクチャ: Zen 3
  - コア: 8
  - スレッド: 16
  - 基本周波数: 3.8 GHz
  - 最大周波数: 4.6 GHz
  - TDP: 65W
- メモリ: CFD W4U3200CS-16G
  - DDR4-3200 (PC4-25600)
  - 64 GB (16 GB x4)
  - DIMM
  - Unbuffered
  - non-ECC
- SSD: WD Blue SN570 1TB

### 3.5. Raspberry Pi 4 Model B 8GB

#### 3.5.1. 仕様・紹介

[Raspberry Pi Foundation 公式ページ](https://www.raspberrypi.com/products/raspberry-pi-4-model-b/)

### 3.6. UGREEN NASync DH4300 Plus

#### 3.6.1. 仕様・紹介

[UGREEN 公式ページ](https://nas.ugreen.jp/products/ugreen-nasync-dh4300-plus-nas-storage)

#### 3.6.2. カスタマイズした部品

- HDD: 東芝 HDWG740UZSVC
  - 3.5インチ
  - 12 TB (4 TB x3)
  - 7200rpm

## 4. 仮想マシン管理

Proxmox VE による LXC コンテナや仮想マシンが存在します。

|   ホスト名   | 収容ホスト名 | LXC/VM | ID  |
| ------------ | ------------ | ------ | --- |
| prod-tail-01 | prod-prox-01 | LXC    | 101 |
| prod-zbbx-01 |              | VM     | 102 |
| prod-zbbx-02 |              | VM     | 103 |
| prod-mgmt-01 |              | VM     | 104 |
| prod-mgmt-02 |              | VM     | 105 |
| prod-adds-01 |              | VM     | 106 |
| prod-adds-02 |              | VM     | 107 |
| prod-k8cp-01 |              | VM     | 811 |
| prod-k8cp-02 |              | VM     | 812 |
| prod-k8cp-03 |              | VM     | 813 |
| prod-k8wk-01 |              | VM     | 821 |
| prod-k8wk-02 |              | VM     | 822 |
| prod-k8wk-03 |              | VM     | 823 |
